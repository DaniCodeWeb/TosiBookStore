
<nav class="bg-white shadow-md fixed w-full z-50">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <a href="/" class="flex-shrink-0">
          <img class="h-12 w-auto" src="/src/assets/img/Tosilogo1.png" alt="TOSI" />
        </a>
      </div>

      <!-- Menú para desktop -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="#inicio" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Inicio</a>
        <a href="#libros" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Libros</a>
        <a href="#novedades" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Novedades</a>
        <a href="#categorias" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Categorias</a>
        <a href="#preventas" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Preventas</a>
        <a href="#testimonios" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Testimonios</a>
        <a href="#contactos" class="text-gray-700 hover:text-yellow-500 hover:scale-105 transition-all duration-200 px-3 py-2 rounded-lg active:bg-yellow-50 active:shadow-md active:ring-1 active:ring-yellow-300">Contáctanos</a>
      </div>

      <!-- Menú para mobile -->
      <div class="md:hidden flex items-center">
        <button id="mobile-menu-button" class="text-gray-700 hover:text-yellow-500">
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>

      <div class="flex items-center space-x-4">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
        <button id="login-button" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200">Mi cuenta</button>
      </div>
    </div>
  </div>

  <!-- Menú mobile desplegable -->
  <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <!-- Inicio -->
      <a href="#inicio" class="mobile-nav-link group" title="Inicio">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
        <span class="ml-3">Inicio</span>
      </a>

      <!-- Libros -->
      <a href="#libros" class="mobile-nav-link group" title="Libros">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
        <span class="ml-3">Libros</span>
      </a>

      <!-- Novedades -->
      <a href="#novedades" class="mobile-nav-link group" title="Novedades">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
        <span class="ml-3">Novedades</span>
      </a>

      <!-- Categorías -->
      <a href="#categorias" class="mobile-nav-link group" title="Categorías">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
        <span class="ml-3">Categorías</span>
      </a>

      <!-- Preventas -->
      <a href="#preventas" class="mobile-nav-link group" title="Preventas">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span class="ml-3">Preventas</span>
      </a>

      <!-- Testimonios -->
      <a href="#testimonios" class="mobile-nav-link group" title="Testimonios">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
        </svg>
        <span class="ml-3">Testimonios</span>
      </a>

      <!-- Contáctanos -->
      <a href="#contactos" class="mobile-nav-link group" title="Contáctanos">
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
        <span class="ml-3">Contáctanos</span>
      </a>
    </div>
  </div>

</nav>

<style is:global>
  .nav-link, .mobile-nav-link {
    @apply text-gray-700 hover:text-yellow-500 transition-all duration-200 px-3 py-2 rounded-lg flex items-center gap-2;
  }

  .nav-link.active, .mobile-nav-link.active {
    @apply text-yellow-500 font-semibold bg-yellow-50 shadow-md ring-1 ring-yellow-300;
  }

  .nav-link span, .mobile-nav-link span {
    @apply transition-all duration-200;
  }

  .nav-link:hover span, .mobile-nav-link:hover span {
    @apply scale-105;
  }

  /* Tooltip para iconos en mobile */
  [title] {
    position: relative;
  }

  [title]:hover::after {
    content: attr(title);
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 100;
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    // Menú mobile
    mobileMenuButton?.addEventListener('click', function() {
      mobileMenu?.classList.toggle('hidden');
    });

    // Scroll spy
    function updateActiveLink() {
      let current = '';
      const scrollPosition = window.scrollY + 100;

      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        const sectionId = section.id;

        if (sectionId && scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
          current = sectionId;
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        const linkHref = link.getAttribute('href');
        if (linkHref && linkHref === `#${current}`) {
          link.classList.add('active');
        }
      });
    }

    // Actualizar al cargar y al hacer scroll
    updateActiveLink();
    window.addEventListener('scroll', updateActiveLink);
    window.addEventListener('resize', updateActiveLink);
  });
</script>
